@use "sass:map";

// base/_fonts.scss
$font-base: "Pretendard";
$font-sub: "NanumSquare";
$font-family: (
    main: $font-base,
    sub: $font-sub,
);

$font-weight: (
    regular: 400,
    semibold: 600,
    bold: 700,
);

$gradient-sub: linear-gradient(90deg, #0C4A6E 0%, #191F2F 100%);

$typo-scale: (
    main: (h1: (size: 40, line: 48, weight: semibold),
        h2: (size: 36, line: 44, weight: semibold),
        h3: (size: 30, line: 36, weight: semibold),
        t1: (size: 24, line: 30, weight: semibold),
        t2: (size: 20, line: 24, weight: semibold),
        b1: (size: 16, line: 20, weight: regular),
        b2: (size: 14, line: 18, weight: regular),
        c1: (size: 12, line: 14, weight: regular),
    ),
    sub: (h1: (size: 30, line: 34, weight: bold),
        t1: (size: 20, line: 24, weight: bold),
        b1: (size: 16, line: 18, weight: regular),
    )
);

@mixin font($token, $weight: null, $family: main) {
    $t: map.get(map.get($typo-scale, $family), $token);
    $resolved-weight: map.get($font-weight, map.get($t, weight));

    @if $weight != null {
        $resolved-weight: map.get($font-weight, $weight);
    }

    font-family: map.get($font-family, $family);
    font-size: map.get($t, size) * 1px;
    line-height: map.get($t, line) * 1px;
    font-weight: $resolved-weight;
}

// colors/_tokens.scss
// 컬러 팔레트 맵으로 일괄 관리 및 재사용성 향상
$palette: (
    "primary": (900: #182437,
        700: #113B58,
        400: #216A9C,
        100: #E5EBF4),
    "semantic": (
        "success": (100: #F5F7FE,
            300: #D7DFF8,
            600: #396AFF),
        "warning": (100: #FFF5D9,
            300: #FFEEA3,
            600: #FFAA00),
        "error": (100: #FFF0F5,
            300: #FDDCE7,
            600: #FF5757)
    ),
    "black": (0: #000000,
        1: #333333,
        2: #424242,
        3: #838383,
        4: #D9D9D9,
        5: #FAFAFA,
        6: #F9FAFC),
    "white": #FFFFFF
);

// 컬러 추출 함수 (네임스페이스 가능하게 작성)
@function palette($group, $shade: null, $tone: null) {
    @if ($group =="white") {
        @return map.get($palette, "white");
    }

    @else if ($shade !=null and $tone != null) {
        @return map.get(map.get(map.get($palette, $group), $shade), $tone);
    }

    @else if ($shade !=null) {
        @return map.get(map.get($palette, $group), $shade);
    }

    @else {
        // 그룹만 주는 경우 전체 맵 반환
        @return map.get($palette, $group);
    }
}

// 별칭: 직접 변수 할당도 지원 (기존 코드 호환성 및 가독성)
$primary-900: palette("primary", 900);
$primary-700: palette("primary", 700);
$primary-400: palette("primary", 400);
$primary-100: palette("primary", 100);

$success-100: palette("semantic", "success", 100);
$success-300: palette("semantic", "success", 300);
$success-600: palette("semantic", "success", 600);
$warning-100: palette("semantic", "warning", 100);
$warning-300: palette("semantic", "warning", 300);
$warning-600: palette("semantic", "warning", 600);
$error-100: palette("semantic", "error", 100);
$error-300: palette("semantic", "error", 300);
$error-600: palette("semantic", "error", 600);
$success: $success-600;
$warning: $warning-600;
$error: $error-600;

$black-0: palette("black", 0);
$black-1: palette("black", 1);
$black-2: palette("black", 2);
$black-3: palette("black", 3);
$black-4: palette("black", 4);
$black-5: palette("black", 5);
$black-6: palette("black", 6);
$white: palette("white");