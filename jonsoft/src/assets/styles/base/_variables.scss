@use "sass:map";

// base/_fonts.scss
$font-base: "Pretendard";
$font-sub: "NanumSquare";
$font-family: (
    main: $font-base,
    sub: $font-sub,
);

$font-weight: (
    regular: 400,
    semibold: 600,
    bold: 700,
);

$typo-scale: (
    main: (h1: (size: 40, line: 48, weight: semibold),
        h2: (size: 36, line: 44, weight: semibold),
        h3: (size: 30, line: 36, weight: semibold),
        t1: (size: 24, line: 30, weight: semibold),
        t2: (size: 20, line: 24, weight: semibold),
        b1: (size: 16, line: 20, weight: regular),
        b2: (size: 14, line: 18, weight: regular),
        c1: (size: 12, line: 14, weight: regular),
    ),
    sub: (h1: (size: 30, line: 34, weight: bold),
        t1: (size: 20, line: 24, weight: bold),
        b1: (size: 16, line: 18, weight: regular),
    )
);

@mixin font($token, $weight: null, $family: main) {
    $t: map.get(map.get($typo-scale, $family), $token);
    $resolved-weight: map.get($font-weight, map.get($t, weight));

    @if $weight != null {
        $resolved-weight: map.get($font-weight, $weight);
    }

    font-family: map.get($font-family, $family);
    font-size: map.get($t, size) * 1px;
    line-height: map.get($t, line) * 1px;
    font-weight: $resolved-weight;
}

// colors/_tokens.scss
// 컬러 팔레트 맵으로 일괄 관리 및 재사용성 향상
$palette: (
    "primary": (100: #B2E0E6,
        300: #4BB2BF,
        500: #00626F,
        700: #0A545E,
        800: #04414A),
    "secondary": (300: #7CC3FF,
        600: #2687D8,
        700: #006CC7),
    "semantic": ("success": #32C771,
        "warning": #FFAA00,
        "error": #EB5757),
    "black": (0: #000000,
        1: #505050,
        2: #767676,
        3: #D9D9D9,
        4: #F0F0F0,
        5: #F5F6F7),
    "white": #FFFFFF
);

// 컬러 추출 함수 (네임스페이스 가능하게 작성)
@function palette($group, $shade: null) {
    @if ($group =="white") {
        @return map.get($palette, "white");
    }

    @else if ($shade !=null) {
        @return map.get(map.get($palette, $group), $shade);
    }

    @else {
        // 그룹만 주는 경우 전체 맵 반환
        @return map.get($palette, $group);
    }
}

// 별칭: 직접 변수 할당도 지원 (기존 코드 호환성 및 가독성)
$primary-800: palette("primary", 800);
$primary-700: palette("primary", 700);
$primary-500: palette("primary", 500);
$primary-300: palette("primary", 300);
$primary-100: palette("primary", 100);

$secondary-700: palette("secondary", 700);
$secondary-600: palette("secondary", 600);
$secondary-300: palette("secondary", 300);

$success: palette("semantic", "success");
$warning: palette("semantic", "warning");
$error: palette("semantic", "error");

$black-0: palette("black", 0);
$black-1: palette("black", 1);
$black-2: palette("black", 2);
$black-3: palette("black", 3);
$black-4: palette("black", 4);
$black-5: palette("black", 5);
$white: palette("white");